<!DOCTYPE html>
<html lang="en">

{% load static %}

<head>
    <meta charset="UTF-8">
    <title>Find The Flow</title>
    <style>
    /* Import a stylish, modern font from Google Fonts */
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@700;800&display=swap');

    :root {
        --lime: #ccff00;
        --yellow: #fff200;
        --white-glass: rgba(255, 255, 255, 0.55);
        --border-glass: rgba(255, 255, 255, 0.9);
        --text-dark: #2a2a00;
        --shadow: rgba(0, 0, 0, 0.15);
    }

    /* Background */
    body {
        font-family: "Inter", "Segoe UI", Roboto, sans-serif;
        margin: 0; padding: 2em;
        background: linear-gradient(120deg, var(--lime), var(--yellow), #f9ffcc, #e8ff99);
        background-size: 400% 400%;
        animation: gradientShift 12s ease infinite;
        display: flex; justify-content: center; align-items: flex-start;
        min-height: 100vh;
        color: var(--text-dark);
    }

    @keyframes gradientShift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

    /* Container */
    .container {
        max-width: 900px; width: 100%;
        background: var(--white-glass);
        backdrop-filter: blur(18px) saturate(180%);
        -webkit-backdrop-filter: blur(18px) saturate(180%);
        padding: 3em; border-radius: 18px;
        border: 1px solid var(--border-glass);
        box-shadow: 0 12px 40px var(--shadow);
    }

    /* header styles */
    .header {
        display: flex;
        flex-direction: column; /* items stacked vertically */
        align-items: center;    /* center them horizontally */
        margin-bottom: 0.7em;
    }

    .header-logo {
        width: 90px;
        height: auto;
        margin-bottom: 0.5em; /* space between logo and title */
        margin-top: -1.5em;
    }

    h1 {
        margin: 0;
        font-family: 'Poppins', sans-serif;
        font-size: 1em;
        font-weight: 800;
        letter-spacing: 2px;
        background: linear-gradient(90deg, #b3de00, #ffe100); /* richer gradient */
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 2px 10px rgba(255, 255, 200, 0.8);
    }


    .separator { height: 2px; background: linear-gradient(to right, transparent, var(--yellow), transparent); margin: 2.2em 0; border: none; }
    .job { background: rgba(255, 255, 255, 0.75); border: 1px solid var(--border-glass); padding: 1.6em 2em; margin-bottom: 1.6em; border-radius: 14px; transition: transform 0.25s ease, box-shadow 0.25s ease; box-shadow: 0 6px 20px rgba(0,0,0,0.12); }
    .job:hover { transform: translateY(-5px); box-shadow: 0 10px 28px rgba(0,0,0,0.2); }
    .job h2 { margin-top: 0; font-size: 1.35em; margin-bottom: 0.5em; }
    .job h2 a { text-decoration: none; background: linear-gradient(90deg, var(--lime), var(--yellow)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 700; transition: text-shadow 0.2s ease; }
    .job h2 a:hover { text-shadow: 0 0 8px var(--yellow); }
    .job-meta { color: #333; font-size: 0.95em; line-height: 1.6; }
    .search-form { display: flex; margin-bottom: 2em; }
    .search-input { flex-grow: 1; padding: 0.9em 1em; border: 1px solid var(--border-glass); border-radius: 12px; font-size: 1em; background: rgba(255, 255, 255, 0.85); transition: 0.3s; }
    .search-input:focus { outline: none; border-color: var(--lime); box-shadow: 0 0 0 4px rgba(204, 255, 0, 0.5); }
    .search-button { padding: 0.9em 1.5em; margin-left: 0.75em; border-radius: 12px; border: none; cursor: pointer; font-weight: 700; background: linear-gradient(135deg, var(--lime), var(--yellow)); color: #2a2a00; transition: transform 0.2s ease, box-shadow 0.2s ease; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
    .search-button:hover { transform: scale(1.05); box-shadow: 0 6px 18px rgba(0,0,0,0.2); }
    .pagination { margin-top: 2.5em; display: flex; justify-content: center; flex-wrap: wrap; gap: 0.6em; }
    .pagination a, .pagination .current-page, .pagination .disabled { padding: 0.65em 1.3em; border-radius: 10px; text-decoration: none; background: rgba(255, 255, 255, 0.8); border: 1px solid var(--border-glass); transition: 0.2s; font-weight: 600; color: var(--text-dark); }
    .pagination a:hover { background: #fff; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
    .pagination .current-page { background: linear-gradient(135deg, var(--lime), var(--yellow)); border: none; font-weight: 700; color: #2a2a00; box-shadow: 0 4px 14px rgba(0,0,0,0.2); }
    .pagination .disabled { opacity: 0.6; pointer-events: none; }
</style>
</head>
<body>

    <div class="container">

        <!-- header section -->
        <div class="header">
            <img src="{% static 'scraper/logo.png' %}" alt="Find The Flow Logo" class="header-logo">
            <h1>Find The Flow</h1>
        </div>

        <form class="search-form" method="GET" action="">
            <input class="search-input" type="text" name="q" placeholder="Search for titles, companies..." value="{{ search_query }}">
            <button class="search-button" type="submit">Search</button>
        </form>

        <div class="separator"></div>

        {% for job in jobs_page %}
            <div class="job">
                <h2><a href="{{ job.link }}" target="_blank" rel="noopener noreferrer">{{ job.title }}</a></h2>
                <p class="job-meta">
                    <strong>Company:</strong> {{ job.company }}<br>
                    <strong>Location:</strong> {{ job.location }}<br>
                    <strong>Posted:</strong> {{ job.posted_date }}
                </p>
            </div>
        {% empty %}
            <div style="text-align: center; padding: 2em;">
                <p>No jobs found matching your criteria. Try a different search!</p>
            </div>
        {% endfor %}

        {% if jobs_page.paginator.num_pages > 1 %}
        <div class="pagination">
             <!-- Pagination links... -->
        </div>
        {% endif %}
    </div>

</body>
</html>